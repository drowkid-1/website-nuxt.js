import{u as P,o as g,c as ie,l as z,K as re,H as A,T as se,t as $,p as ue,N as Q}from"./env.4d5f7f9d.js";import{w as de,h as pe,f as ve,a as ce,b as fe,O as be,o as y}from"./hidden.d685cf32.js";import{y as me}from"./use-outside-click.77338cf1.js";import{r as w,m as h,g as M,X as _,n as xe,q as U,s as ee,l as X,F as K,y as ye,U as T,x as ge,v as he,a0 as Se,o as I,c as C,i as W,j as E,w as B,b as D,d as Y,a as F,z as Z,I as H,Z as ke,ad as Oe,B as Le,t as G}from"./entry.6e222807.js";import we from"./Icon.b2e3ccf4.js";import{_ as Re}from"./index.vue.4a7da72a.js";function _e(t){throw new Error("Unexpected object: "+t)}var k=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(k||{});function Ie(t,o){let a=o.resolveItems();if(a.length<=0)return null;let f=o.resolveActiveIndex(),e=f??-1,d=(()=>{switch(t.focus){case 0:return a.findIndex(s=>!o.resolveDisabled(s));case 1:{let s=a.slice().reverse().findIndex((p,m,l)=>e!==-1&&l.length-m-1>=e?!1:!o.resolveDisabled(p));return s===-1?s:a.length-1-s}case 2:return a.findIndex((s,p)=>p<=e?!1:!o.resolveDisabled(s));case 3:{let s=a.slice().reverse().findIndex(p=>!o.resolveDisabled(p));return s===-1?s:a.length-1-s}case 4:return a.findIndex(s=>o.resolveId(s)===t.id);case 5:return null;default:_e(t)}})();return d===-1?f:d}function te(t={},o=null,a=[]){for(let[f,e]of Object.entries(t))ae(a,le(o,f),e);return a}function le(t,o){return t?t+"["+o+"]":o}function ae(t,o,a){if(Array.isArray(a))for(let[f,e]of a.entries())ae(t,le(o,f.toString()),e);else a instanceof Date?t.push([o,a.toISOString()]):typeof a=="boolean"?t.push([o,a?"1":"0"]):typeof a=="string"?t.push([o,a]):typeof a=="number"?t.push([o,`${a}`]):a==null?t.push([o,""]):te(a,o,t)}function Pe(t,o,a){let f=w(a==null?void 0:a.value),e=h(()=>t.value!==void 0);return[h(()=>e.value?t.value:f.value),function(d){return e.value||(f.value=d),o==null?void 0:o(d)}]}function J(t){return[t.screenX,t.screenY]}function De(){let t=w([-1,-1]);return{wasMoved(o){let a=J(o);return t.value[0]===a[0]&&t.value[1]===a[1]?!1:(t.value=a,!0)},update(o){t.value=J(o)}}}function Te(t,o){return t===o}var Ve=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ve||{}),Be=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Be||{}),Me=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Me||{});function je(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let oe=Symbol("ListboxContext");function N(t){let o=ye(oe,null);if(o===null){let a=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,N),a}return o}let Ae=M({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Te},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:o,attrs:a,emit:f}){let e=w(1),d=w(null),s=w(null),p=w(null),m=w([]),l=w(""),n=w(null),L=w(1);function S(i=r=>r){let r=n.value!==null?m.value[n.value]:null,c=be(i(m.value.slice()),O=>g(O.dataRef.domRef)),b=r?c.indexOf(r):null;return b===-1&&(b=null),{options:c,activeOptionIndex:b}}let v=h(()=>t.multiple?1:0),[R,V]=Pe(h(()=>t.modelValue===void 0?P(v.value,{[1]:[],[0]:void 0}):t.modelValue),i=>f("update:modelValue",i),h(()=>t.defaultValue)),u={listboxState:e,value:R,mode:v,compare(i,r){if(typeof t.by=="string"){let c=t.by;return(i==null?void 0:i[c])===(r==null?void 0:r[c])}return t.by(i,r)},orientation:h(()=>t.horizontal?"horizontal":"vertical"),labelRef:d,buttonRef:s,optionsRef:p,disabled:h(()=>t.disabled),options:m,searchQuery:l,activeOptionIndex:n,activationTrigger:L,closeListbox(){t.disabled||e.value!==1&&(e.value=1,n.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(i,r,c){if(t.disabled||e.value===1)return;let b=S(),O=Ie(i===k.Specific?{focus:k.Specific,id:r}:{focus:i},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:j=>j.id,resolveDisabled:j=>j.dataRef.disabled});l.value="",n.value=O,L.value=c??1,m.value=b.options},search(i){if(t.disabled||e.value===1)return;let r=l.value!==""?0:1;l.value+=i.toLowerCase();let c=(n.value!==null?m.value.slice(n.value+r).concat(m.value.slice(0,n.value+r)):m.value).find(O=>O.dataRef.textValue.startsWith(l.value)&&!O.dataRef.disabled),b=c?m.value.indexOf(c):-1;b===-1||b===n.value||(n.value=b,L.value=1)},clearSearch(){t.disabled||e.value!==1&&l.value!==""&&(l.value="")},registerOption(i,r){let c=S(b=>[...b,{id:i,dataRef:r}]);m.value=c.options,n.value=c.activeOptionIndex},unregisterOption(i){let r=S(c=>{let b=c.findIndex(O=>O.id===i);return b!==-1&&c.splice(b,1),c});m.value=r.options,n.value=r.activeOptionIndex,L.value=1},select(i){t.disabled||V(P(v.value,{[0]:()=>i,[1]:()=>{let r=_(u.value.value).slice(),c=_(i),b=r.findIndex(O=>u.compare(c,_(O)));return b===-1?r.push(c):r.splice(b,1),r}}))}};me([s,p],(i,r)=>{var c;u.closeListbox(),de(r,pe.Loose)||(i.preventDefault(),(c=g(s))==null||c.focus())},h(()=>e.value===0)),xe(oe,u),ie(h(()=>P(e.value,{[0]:z.Open,[1]:z.Closed})));let x=h(()=>{var i;return(i=g(s))==null?void 0:i.closest("form")});return U(()=>{ee([x],()=>{if(!x.value||t.defaultValue===void 0)return;function i(){u.select(t.defaultValue)}return x.value.addEventListener("reset",i),()=>{var r;(r=x.value)==null||r.removeEventListener("reset",i)}},{immediate:!0})}),()=>{let{name:i,modelValue:r,disabled:c,form:b,...O}=t,j={open:e.value===0,disabled:c,value:R.value};return X(K,[...i!=null&&R.value!=null?te({[i]:R.value}).map(([q,ne])=>X(ve,re({features:ce.Hidden,key:q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:b,name:q,value:ne}))):[],A({ourProps:{},theirProps:{...a,...se(O,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:j,slots:o,attrs:a,name:"Listbox"})])}}}),Ne=M({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-listbox-label-${$()}`}},setup(t,{attrs:o,slots:a}){let f=N("ListboxLabel");function e(){var d;(d=g(f.buttonRef))==null||d.focus({preventScroll:!0})}return()=>{let d={open:f.listboxState.value===0,disabled:f.disabled.value},{id:s,...p}=t,m={id:s,ref:f.labelRef,onClick:e};return A({ourProps:m,theirProps:p,slot:d,attrs:o,slots:a,name:"ListboxLabel"})}}}),Ce=M({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${$()}`}},setup(t,{attrs:o,slots:a,expose:f}){let e=N("ListboxButton");f({el:e.buttonRef,$el:e.buttonRef});function d(l){switch(l.key){case y.Space:case y.Enter:case y.ArrowDown:l.preventDefault(),e.openListbox(),T(()=>{var n;(n=g(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(k.First)});break;case y.ArrowUp:l.preventDefault(),e.openListbox(),T(()=>{var n;(n=g(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(k.Last)});break}}function s(l){switch(l.key){case y.Space:l.preventDefault();break}}function p(l){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),T(()=>{var n;return(n=g(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(l.preventDefault(),e.openListbox(),je(()=>{var n;return(n=g(e.optionsRef))==null?void 0:n.focus({preventScroll:!0})})))}let m=fe(h(()=>({as:t.as,type:o.type})),e.buttonRef);return()=>{var l,n;let L={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:S,...v}=t,R={ref:e.buttonRef,id:S,type:m.value,"aria-haspopup":"listbox","aria-controls":(l=g(e.optionsRef))==null?void 0:l.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(n=g(e.labelRef))==null?void 0:n.id,S].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:d,onKeyup:s,onClick:p};return A({ourProps:R,theirProps:v,slot:L,attrs:o,slots:a,name:"ListboxButton"})}}}),Ee=M({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${$()}`}},setup(t,{attrs:o,slots:a,expose:f}){let e=N("ListboxOptions"),d=w(null);f({el:e.optionsRef,$el:e.optionsRef});function s(l){switch(d.value&&clearTimeout(d.value),l.key){case y.Space:if(e.searchQuery.value!=="")return l.preventDefault(),l.stopPropagation(),e.search(l.key);case y.Enter:if(l.preventDefault(),l.stopPropagation(),e.activeOptionIndex.value!==null){let n=e.options.value[e.activeOptionIndex.value];e.select(n.dataRef.value)}e.mode.value===0&&(e.closeListbox(),T(()=>{var n;return(n=g(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})}));break;case P(e.orientation.value,{vertical:y.ArrowDown,horizontal:y.ArrowRight}):return l.preventDefault(),l.stopPropagation(),e.goToOption(k.Next);case P(e.orientation.value,{vertical:y.ArrowUp,horizontal:y.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),e.goToOption(k.Previous);case y.Home:case y.PageUp:return l.preventDefault(),l.stopPropagation(),e.goToOption(k.First);case y.End:case y.PageDown:return l.preventDefault(),l.stopPropagation(),e.goToOption(k.Last);case y.Escape:l.preventDefault(),l.stopPropagation(),e.closeListbox(),T(()=>{var n;return(n=g(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case y.Tab:l.preventDefault(),l.stopPropagation();break;default:l.key.length===1&&(e.search(l.key),d.value=setTimeout(()=>e.clearSearch(),350));break}}let p=ue(),m=h(()=>p!==null?(p.value&z.Open)===z.Open:e.listboxState.value===0);return()=>{var l,n,L,S;let v={open:e.listboxState.value===0},{id:R,...V}=t,u={"aria-activedescendant":e.activeOptionIndex.value===null||(l=e.options.value[e.activeOptionIndex.value])==null?void 0:l.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(S=(n=g(e.labelRef))==null?void 0:n.id)!=null?S:(L=g(e.buttonRef))==null?void 0:L.id,"aria-orientation":e.orientation.value,id:R,onKeydown:s,role:"listbox",tabIndex:0,ref:e.optionsRef};return A({ourProps:u,theirProps:V,slot:v,attrs:o,slots:a,features:Q.RenderStrategy|Q.Static,visible:m.value,name:"ListboxOptions"})}}}),Fe=M({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${$()}`}},setup(t,{slots:o,attrs:a,expose:f}){let e=N("ListboxOption"),d=w(null);f({el:d,$el:d});let s=h(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t.id:!1),p=h(()=>P(e.mode.value,{[0]:()=>e.compare(_(e.value.value),_(t.value)),[1]:()=>_(e.value.value).some(u=>e.compare(_(u),_(t.value)))})),m=h(()=>P(e.mode.value,{[1]:()=>{var u;let x=_(e.value.value);return((u=e.options.value.find(i=>x.some(r=>e.compare(_(r),_(i.dataRef.value)))))==null?void 0:u.id)===t.id},[0]:()=>p.value})),l=h(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:d}));U(()=>{var u,x;let i=(x=(u=g(d))==null?void 0:u.textContent)==null?void 0:x.toLowerCase().trim();i!==void 0&&(l.value.textValue=i)}),U(()=>e.registerOption(t.id,l)),ge(()=>e.unregisterOption(t.id)),U(()=>{ee([e.listboxState,p],()=>{e.listboxState.value===0&&p.value&&P(e.mode.value,{[1]:()=>{m.value&&e.goToOption(k.Specific,t.id)},[0]:()=>{e.goToOption(k.Specific,t.id)}})},{immediate:!0})}),he(()=>{e.listboxState.value===0&&s.value&&e.activationTrigger.value!==0&&T(()=>{var u,x;return(x=(u=g(d))==null?void 0:u.scrollIntoView)==null?void 0:x.call(u,{block:"nearest"})})});function n(u){if(t.disabled)return u.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),T(()=>{var x;return(x=g(e.buttonRef))==null?void 0:x.focus({preventScroll:!0})}))}function L(){if(t.disabled)return e.goToOption(k.Nothing);e.goToOption(k.Specific,t.id)}let S=De();function v(u){S.update(u)}function R(u){S.wasMoved(u)&&(t.disabled||s.value||e.goToOption(k.Specific,t.id,0))}function V(u){S.wasMoved(u)&&(t.disabled||s.value&&e.goToOption(k.Nothing))}return()=>{let{disabled:u}=t,x={active:s.value,selected:p.value,disabled:u},{id:i,value:r,disabled:c,...b}=t,O={id:i,ref:d,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:n,onFocus:L,onPointerenter:v,onMouseenter:v,onPointermove:R,onMousemove:R,onPointerleave:V,onMouseleave:V};return A({ourProps:O,theirProps:b,slot:x,attrs:a,slots:o,name:"ListboxOption"})}}});const Ue={class:"flex items-center"},ze={class:"flex justify-center items-center dark:hidden"},$e={class:"justify-center items-center hidden dark:flex"},He={class:"text-sm mr-2 flex items-center"},Ke=["value"],Ge=M({__name:"ThemeSwitcher",props:{type:{type:String,default:"dropdown-right-top"}},setup(t){const a=Se(t,"type"),f=[{key:"light",text:"Light"},{key:"dark",text:"Dark"},{key:"system",text:"System"}];return(e,d)=>{const s=Ne,p=we,m=Re,l=Ce,n=Fe,L=Ee,S=Ae;return I(),C("div",Ue,[W(a)==="dropdown-right-top"?(I(),E(S,{key:0,modelValue:e.$colorMode.preference,"onUpdate:modelValue":d[0]||(d[0]=v=>e.$colorMode.preference=v),as:"div",class:"relative flex items-center"},{default:B(()=>[D(s,{class:"sr-only"},{default:B(()=>[Y("Theme")]),_:1}),D(l,{type:"template"},{default:B(()=>[D(m,{class:"dark:text-gray-400 text-gray-600"},{default:B(()=>[F("span",ze,[D(p,{name:"uil:sun"})]),F("span",$e,[D(p,{name:"uil:moon"})])]),_:1})]),_:1}),D(L,{class:"p-1 absolute z-50 origin-top-right top-full right-0 outline-none bg-white rounded-lg ring-1 ring-gray-900/10 shadow-lg overflow-hidden w-36 py-1 text-sm text-gray-700 font-semibold dark:bg-gray-800 dark:ring-0 dark:highlight-white/5 dark:text-gray-300"},{default:B(()=>[(I(),C(K,null,Z(f,v=>D(n,{key:v.key,value:v.key,class:Le({"py-2 px-2 flex items-center cursor-pointer":!0,"text-sky-500 bg-gray-100 dark:bg-gray-600/30":e.$colorMode.preference===v.key,"hover:bg-gray-50 dark:hover:bg-gray-700/30":e.$colorMode.preference!==v.key})},{default:B(()=>[F("span",He,[v.key==="light"?(I(),E(p,{key:0,name:"uil:sun"})):v.key==="dark"?(I(),E(p,{key:1,name:"uil:moon"})):v.key==="system"?(I(),E(p,{key:2,name:"uil:laptop"})):H("",!0)]),Y(" "+G(v.text),1)]),_:2},1032,["value","class"])),64))]),_:1})]),_:1},8,["modelValue"])):H("",!0),W(a)==="select-box"?ke((I(),C("select",{key:1,"onUpdate:modelValue":d[1]||(d[1]=v=>e.$colorMode.preference=v),class:"w-full px-2 pr-3 py-1 outline-none rounded border bg-transparent text-gray-700 dark:text-gray-300 border-gray-900/10 dark:border-gray-50/[0.2]"},[(I(),C(K,null,Z(f,v=>F("option",{key:v.key,value:v.key},G(v.text),9,Ke)),64))],512)),[[Oe,e.$colorMode.preference]]):H("",!0)])}}});export{Ge as _};
