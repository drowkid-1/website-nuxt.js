import{_ as ve}from"./Item.vue.01366894.js";import de from"./Icon.b2e3ccf4.js";import{a as oe,o as l,u as C,c as fe,l as A,H as W,t as L,p as me,N as Z}from"./env.4d5f7f9d.js";import{m as J,E as U,w as be,h as Pe,b as ye,f as V,a as q,P as _,N as x,o as B,T as z}from"./hidden.d685cf32.js";import{y as ge}from"./use-outside-click.77338cf1.js";import{v as M,r as h,g as G,m as w,n as le,q as ae,x as re,l as N,F as Q,y as X,T as Se,J as he,o as H,j as R,w as j,b as K,a as ee,t as we,i as te,B as ne,c as Ee,z as ke,ac as $e,I as Fe}from"./entry.6e222807.js";import{a as Ie,p as xe}from"./navbar.7379f720.js";function Be(n,s,f){oe.isServer||M(y=>{window.addEventListener(n,s,f),y(()=>window.removeEventListener(n,s,f))})}var $=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))($||{});function ue(){let n=h(0);return Be("keydown",s=>{s.key==="Tab"&&(n.value=s.shiftKey?1:0)}),n}function _e(n,s,f,y){oe.isServer||M(o=>{n=n??window,n.addEventListener(s,f,y),o(()=>n.removeEventListener(s,f,y))})}var Oe=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(Oe||{});let se=Symbol("PopoverContext");function Y(n){let s=X(se,null);if(s===null){let f=new Error(`<${n} /> is missing a parent <${pe.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,Y),f}return s}let Te=Symbol("PopoverGroupContext");function ie(){return X(Te,null)}let ce=Symbol("PopoverPanelContext");function Ce(){return X(ce,null)}let pe=G({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup(n,{slots:s,attrs:f,expose:y}){var o;let t=h(null);y({el:t,$el:t});let c=h(1),p=h(null),g=h(null),P=h(null),i=h(null),S=w(()=>J(t)),F=w(()=>{var e,u;if(!l(p)||!l(i))return!1;for(let T of document.querySelectorAll("body > *"))if(Number(T==null?void 0:T.contains(l(p)))^Number(T==null?void 0:T.contains(l(i))))return!0;let r=U(),m=r.indexOf(l(p)),b=(m+r.length-1)%r.length,I=(m+1)%r.length,k=r[b],O=r[I];return!((e=l(i))!=null&&e.contains(k))&&!((u=l(i))!=null&&u.contains(O))}),d={popoverState:c,buttonId:h(null),panelId:h(null),panel:i,button:p,isPortalled:F,beforePanelSentinel:g,afterPanelSentinel:P,togglePopover(){c.value=C(c.value,{[0]:1,[1]:0})},closePopover(){c.value!==1&&(c.value=1)},close(e){d.closePopover();let u=(()=>e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?l(e):l(d.button):l(d.button))();u==null||u.focus()}};le(se,d),fe(w(()=>C(c.value,{[0]:A.Open,[1]:A.Closed})));let D={buttonId:d.buttonId,panelId:d.panelId,close(){d.closePopover()}},E=ie(),v=E==null?void 0:E.registerPopover;function a(){var e,u,r,m;return(m=E==null?void 0:E.isFocusWithinPopoverGroup())!=null?m:((e=S.value)==null?void 0:e.activeElement)&&(((u=l(p))==null?void 0:u.contains(S.value.activeElement))||((r=l(i))==null?void 0:r.contains(S.value.activeElement)))}return M(()=>v==null?void 0:v(D)),_e((o=S.value)==null?void 0:o.defaultView,"focus",e=>{var u,r;c.value===0&&(a()||p&&i&&e.target!==window&&((u=l(d.beforePanelSentinel))!=null&&u.contains(e.target)||(r=l(d.afterPanelSentinel))!=null&&r.contains(e.target)||d.closePopover()))},!0),ge([p,i],(e,u)=>{var r;d.closePopover(),be(u,Pe.Loose)||(e.preventDefault(),(r=l(p))==null||r.focus())},w(()=>c.value===0)),()=>{let e={open:c.value===0,close:d.close};return W({theirProps:n,ourProps:{ref:t},slot:e,slots:s,attrs:f,name:"Popover"})}}}),De=G({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${L()}`}},inheritAttrs:!1,setup(n,{attrs:s,slots:f,expose:y}){let o=Y("PopoverButton"),t=w(()=>J(o.button));y({el:o.button,$el:o.button}),ae(()=>{o.buttonId.value=n.id}),re(()=>{o.buttonId.value=null});let c=ie(),p=c==null?void 0:c.closeOthers,g=Ce(),P=w(()=>g===null?!1:g.value===o.panelId.value),i=h(null),S=`headlessui-focus-sentinel-${L()}`;P.value||M(()=>{o.button.value=i.value});let F=ye(w(()=>({as:n.as,type:s.type})),i);function d(a){var e,u,r,m,b;if(P.value){if(o.popoverState.value===1)return;switch(a.key){case B.Space:case B.Enter:a.preventDefault(),(u=(e=a.target).click)==null||u.call(e),o.closePopover(),(r=l(o.button))==null||r.focus();break}}else switch(a.key){case B.Space:case B.Enter:a.preventDefault(),a.stopPropagation(),o.popoverState.value===1&&(p==null||p(o.buttonId.value)),o.togglePopover();break;case B.Escape:if(o.popoverState.value!==0)return p==null?void 0:p(o.buttonId.value);if(!l(o.button)||(m=t.value)!=null&&m.activeElement&&!((b=l(o.button))!=null&&b.contains(t.value.activeElement)))return;a.preventDefault(),a.stopPropagation(),o.closePopover();break}}function D(a){P.value||a.key===B.Space&&a.preventDefault()}function E(a){var e,u;n.disabled||(P.value?(o.closePopover(),(e=l(o.button))==null||e.focus()):(a.preventDefault(),a.stopPropagation(),o.popoverState.value===1&&(p==null||p(o.buttonId.value)),o.togglePopover(),(u=l(o.button))==null||u.focus()))}function v(a){a.preventDefault(),a.stopPropagation()}return()=>{let a=o.popoverState.value===0,e={open:a},{id:u,...r}=n,m=P.value?{ref:i,type:F.value,onKeydown:d,onClick:E}:{ref:i,id:u,type:F.value,"aria-expanded":n.disabled?void 0:o.popoverState.value===0,"aria-controls":l(o.panel)?o.panelId.value:void 0,disabled:n.disabled?!0:void 0,onKeydown:d,onKeyup:D,onClick:E,onMousedown:v},b=ue();function I(){let k=l(o.panel);if(!k)return;function O(){C(b.value,{[$.Forwards]:()=>_(k,x.First),[$.Backwards]:()=>_(k,x.Last)})===z.Error&&_(U().filter(T=>T.dataset.headlessuiFocusGuard!=="true"),C(b.value,{[$.Forwards]:x.Next,[$.Backwards]:x.Previous}),{relativeTo:l(o.button)})}O()}return N(Q,[W({ourProps:m,theirProps:{...s,...r},slot:e,attrs:s,slots:f,name:"PopoverButton"}),a&&!P.value&&o.isPortalled.value&&N(V,{id:S,features:q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:I})])}}}),Le=G({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${L()}`}},inheritAttrs:!1,setup(n,{attrs:s,slots:f,expose:y}){let{focus:o}=n,t=Y("PopoverPanel"),c=w(()=>J(t.panel)),p=`headlessui-focus-sentinel-before-${L()}`,g=`headlessui-focus-sentinel-after-${L()}`;y({el:t.panel,$el:t.panel}),ae(()=>{t.panelId.value=n.id}),re(()=>{t.panelId.value=null}),le(ce,t.panelId),M(()=>{var v,a;if(!o||t.popoverState.value!==0||!t.panel)return;let e=(v=c.value)==null?void 0:v.activeElement;(a=l(t.panel))!=null&&a.contains(e)||_(l(t.panel),x.First)});let P=me(),i=w(()=>P!==null?(P.value&A.Open)===A.Open:t.popoverState.value===0);function S(v){var a,e;switch(v.key){case B.Escape:if(t.popoverState.value!==0||!l(t.panel)||c.value&&!((a=l(t.panel))!=null&&a.contains(c.value.activeElement)))return;v.preventDefault(),v.stopPropagation(),t.closePopover(),(e=l(t.button))==null||e.focus();break}}function F(v){var a,e,u,r,m;let b=v.relatedTarget;b&&l(t.panel)&&((a=l(t.panel))!=null&&a.contains(b)||(t.closePopover(),((u=(e=l(t.beforePanelSentinel))==null?void 0:e.contains)!=null&&u.call(e,b)||(m=(r=l(t.afterPanelSentinel))==null?void 0:r.contains)!=null&&m.call(r,b))&&b.focus({preventScroll:!0})))}let d=ue();function D(){let v=l(t.panel);if(!v)return;function a(){C(d.value,{[$.Forwards]:()=>{var e;_(v,x.First)===z.Error&&((e=l(t.afterPanelSentinel))==null||e.focus())},[$.Backwards]:()=>{var e;(e=l(t.button))==null||e.focus({preventScroll:!0})}})}a()}function E(){let v=l(t.panel);if(!v)return;function a(){C(d.value,{[$.Forwards]:()=>{let e=l(t.button),u=l(t.panel);if(!e)return;let r=U(),m=r.indexOf(e),b=r.slice(0,m+1),I=[...r.slice(m+1),...b];for(let k of I.slice())if(k.dataset.headlessuiFocusGuard==="true"||u!=null&&u.contains(k)){let O=I.indexOf(k);O!==-1&&I.splice(O,1)}_(I,x.First,{sorted:!1})},[$.Backwards]:()=>{var e;_(v,x.Previous)===z.Error&&((e=l(t.button))==null||e.focus())}})}a()}return()=>{let v={open:t.popoverState.value===0,close:t.close},{id:a,focus:e,...u}=n,r={ref:t.panel,id:a,onKeydown:S,onFocusout:o&&t.popoverState.value===0?F:void 0,tabIndex:-1};return W({ourProps:r,theirProps:{...s,...u},attrs:s,slot:v,slots:{...f,default:(...m)=>{var b;return[N(Q,[i.value&&t.isPortalled.value&&N(V,{id:p,ref:t.beforePanelSentinel,features:q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:D}),(b=f.default)==null?void 0:b.call(f,...m),i.value&&t.isPortalled.value&&N(V,{id:g,ref:t.afterPanelSentinel,features:q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E})])]}},features:Z.RenderStrategy|Z.Static,visible:i.value,name:"PopoverPanel"})}}});const Ne={class:"grid grid-cols-1"},Ve=G({__name:"Wrapper",props:{menu:{type:Object,required:!0}},setup(n){const s=n,f=Se();he();const y=w(()=>{var t,c,p,g;if(!((t=s.menu)!=null&&t.children))return!1;const o=((c=s.menu)==null?void 0:c.children)||[];for(const P of o){const i=Ie(P.to);if(typeof i=="string"&&i===f.path||(g=f.name)!=null&&g.toString().includes((p=i.name)==null?void 0:p.toString()))return!0}return!1});return(o,t)=>{const c=ve,p=de,g=De,P=Le,i=pe;return n.menu.type!=="dropdown"?(H(),R(c,{key:0,menu:n.menu},null,8,["menu"])):n.menu.children&&n.menu.children.length>0?(H(),R(i,{key:1},{default:j(({open:S})=>[K(g,{class:"flex items-center transition-all duration-300 text-gray-900 dark:text-gray-100"},{default:j(()=>[ee("span",{class:ne([te(y)?"font-bold":""])},we(("parseMenuTitle"in o?o.parseMenuTitle:te(xe))(n.menu.title)),3),K(p,{name:"carbon:chevron-down",class:ne(["ml-1",[S?"transform rotate-180":""]])},null,8,["class"])]),_:2},1024),K($e,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:j(()=>[K(P,{class:"absolute z-10 px-2 py-2 rounded-lg min-w-[150px] bg-gray-50 border-gray-300 dark:bg-gray-900 border dark:border-gray-600"},{default:j(()=>[ee("div",Ne,[(H(!0),Ee(Q,null,ke(n.menu.children,(F,d)=>(H(),R(c,{key:d,menu:F,"is-dropdown":""},null,8,["menu"]))),128))])]),_:1})]),_:1})]),_:1})):Fe("",!0)}}});export{Ve as _};
